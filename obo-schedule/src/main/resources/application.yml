server:
  port: 8084

logging:
  level:
    com.github.budwing.obo: DEBUG

spring:
  application:
    name: obo-schedule
  datasource:
    username: obo
    password: obo
    url: jdbc:h2:mem:scheduledb
    driver-class-name: org.h2.Driver
  h2:
    console.enabled: true
  jpa:
    show-sql: true
    hibernate:
      ddl-auto: none
      sql:
        init:
          mode: ALWAYS
          data: classpath:data.sql
          schema: classpath:schema.sql

# the default url is localhost:8761, so the following config is not necessary
#eureka:
#  client:
#    serviceUrl:
#      defaultZone: http://localhost:8761/eureka/

resilience4j.circuitbreaker:
  configs:
    default:
      registerHealthIndicator: true
      slidingWindowSize: 100
      permittedNumberOfCallsInHalfOpenState: 10
      slidingWindowType: TIME_BASED
  instances:
    CinemaClientgetSeatOfIntegerInteger:
      registerHealthIndicator: true
      slidingWindowSize: 10
      permittedNumberOfCallsInHalfOpenState: 3
      slidingWindowType: COUNT_BASED
      failureRateThreshold: 50
      slowCallRateThreshold: 50
      slowCallDurationThreshold: 100
      waitDurationInOpenState: 20s
      automaticTransitionFromOpenToHalfOpenEnabled: false

feign:
  circuitbreaker:
    enabled: true
    alphanumeric-ids:
      enabled: true